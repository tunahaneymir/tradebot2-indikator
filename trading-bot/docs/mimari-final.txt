# ğŸš€ Yapay Zeka Destekli Trading Sistemi Mimarisi v4.1
## Adaptif RR Sistemi ve Tam YaÅŸam DÃ¶ngÃ¼sÃ¼ YÃ¶netimi ile Ä°leri Seviye RL/ML Paper Trading Botu

---

## ğŸ“‹ YÃ¶netici Ã–zeti

**Sistem AdÄ±:** Adaptif Ã‡ok Zaman DilimlÄ± Trading ZekasÄ± (AÃ‡DZTZ)  
**Versiyon:** 4.1 (Final Ãœretim HazÄ±r)  
**SÃ¼re:** 6 AylÄ±k Paper Trade â†’ Mainnet  
**Hedef:** Kendi kendini geliÅŸtiren, maliyet farkÄ±nda, yaÅŸam dÃ¶ngÃ¼sÃ¼ yÃ¶netimli trading sistemi

**Yeni Ã–zellikler (v4.1):**
- âœ… Adaptif RR Sistemi (baÄŸlam farkÄ±nda Ã¶ÄŸrenme)
- âœ… Eksiksiz Operasyon KatmanÄ± (shutdown, backup, monitoring)
- âœ… Ã–ÄŸrenme Dashboard'u
- âœ… Coin SeÃ§im AjanÄ± (ML destekli, 6 kriter)
- âœ… Eksiksiz GeliÅŸtirme Yol HaritasÄ± (10 hafta)

### Versiyon Evrimi
| Versiyon | Eklenen Ã–zellik | Durum |
|---------|-----------------|-------|
| v3.0 | Ä°leri seviye RL/ML Ã§oklu zaman dilimi | Opus 4.1 Ã§alÄ±ÅŸmasÄ± |
| v4.0 | Adaptif RR + Operasyon KatmanÄ± | Katman 4.5 & 9 eklendi |
| v4.1 | Coin SeÃ§im AjanÄ± + GeliÅŸtirme PlanÄ± | **GÃœNCEL - Ãœretim HazÄ±r** |

### Mimari BakÄ±ÅŸta
- **9 Ana Katman** (Veri â†’ YÃ¼rÃ¼tme â†’ Sinyaller â†’ Risk â†’ RR â†’ ML â†’ RL â†’ Rejim â†’ PortfÃ¶y â†’ Operasyonlar)
- **Coin SeÃ§im AjanÄ±** (ML destekli skorlama, 6 kriter)
- **Adaptif RR Sistemi** (BaÄŸlam farkÄ±nda Ã¶ÄŸrenme, 0.001-0.05 adaptif LR)
- **Eksiksiz Operasyonlar** (Trade geÃ§miÅŸi, kapatma, yedekleme, dashboard'lar)
- **10 haftalÄ±k geliÅŸtirme planÄ±** (8 faz, aÃ§Ä±k baÄŸÄ±mlÄ±lÄ±klar)
- **Kademeli 6 aylÄ±k eÄŸitim** (5 â†’ 10 â†’ 20 coin)

---

## ğŸ—ï¸ Sistem Mimarisi KatmanlarÄ±

### Katman 1: Veri AltyapÄ±sÄ±

```yaml
veri_hatti:
  kaynaklar:
    birincil: "Binance Spot/Futures WebSocket"
    ikincil: "GeÃ§miÅŸ veri iÃ§in REST API"
    orderbook: "Seviye 2 derinlik (20 seviye)"
  
  toplama:
    zaman_dilimleri: ["1m", "5m", "15m", "1h", "4h"]
    coinler: "Coin SeÃ§im AjanÄ± ile dinamik (Katman 1.5)"
    coin_sayisi: "5 â†’ 10 â†’ 20 (kademeli)"
    guncelleme_sikliÄŸi: "GerÃ§ek zamanlÄ± (WebSocket)"
    
  depolama:
    sicak_depo: "Redis (24 saat Ã¶nbellek)"
    ilik_depo: "PostgreSQL (90 gÃ¼n)"
    soguk_depo: "Parquet dosyalarÄ± (geÃ§miÅŸ)"
    
  on_isleme:
    aykiri_tespit: "IQR + Z-skoru"
    eksik_veri: "Ä°leri doldurma â†’ DoÄŸrusal interpolasyon"
    normalizasyon: "Ã–zellik baÅŸÄ±na RobustScaler"
```

### Katman 1.5: Coin SeÃ§im AjanÄ± (YENÄ°)

```yaml
coin_secim_ajani:
  amac: "Dinamik Ã§ok kriterli coin filtreleme ve portfÃ¶y oluÅŸturma"
  
  evren_tanimi:
    borsa: "Binance Spot + Futures"
    temel_filtre:
      - "24s hacim > $10M"
      - "Piyasa deÄŸeri > $100M"
      - "Listelenme > 90 gÃ¼n"
      - "Stablecoin deÄŸil"
      - "Trading Ã§ifti: /USDT"
      
    kara_liste:
      - "Bilinen dolandÄ±rÄ±cÄ±lÄ±k coinleri"
      - "YÃ¼ksek manipÃ¼lasyonlu coinler"
      - "Devam eden yasal sorunlu coinler"
      guncelleme_sikliÄŸi: "haftalÄ±k"
      
  skorlama_sistemi:
    bilesenler:
      likidite_skoru:
        agirlik: 0.25
        metrikler:
          - "24s hacim"
          - "Order book derinliÄŸi (bid-ask 1%)"
          - "Spread sÄ±kÄ±lÄ±ÄŸÄ±"
        formul: "agirlikli_ort([hacim_siralama, derinlik_siralama, spread_siralama])"
        
      volatilite_skoru:
        agirlik: 0.20
        metrikler:
          - "ATR(14) normalize"
          - "Bollinger Band geniÅŸliÄŸi"
          - "GeÃ§miÅŸ volatilite (30g)"
        formul: "normalize(atr * 0.4 + bb_width * 0.3 + hist_vol * 0.3)"
        hedef: "Orta volatilite (0.4-0.7 aralÄ±ÄŸÄ±)"
        
      trend_gucu_skoru:
        agirlik: 0.20
        metrikler:
          - "ADX(14) deÄŸeri"
          - "YÃ¶nlÃ¼ hareket"
          - "EMA hizalama (9/21/50)"
        formul: "adx_norm * 0.5 + yon * 0.3 + ema_hizalama * 0.2"
        
      momentum_skoru:
        agirlik: 0.15
        metrikler:
          - "RSI(14) konumu"
          - "MACD histogram"
          - "Fiyat vs MA mesafesi"
        formul: "agirlikli_ort([rsi_skor, macd_skor, ma_mesafe])"
        
      hacim_profil_skoru:
        agirlik: 0.10
        metrikler:
          - "RVOL (gÃ¶receli hacim)"
          - "Hacim trendi (artÄ±ÅŸ/azalÄ±ÅŸ)"
          - "Biriktirme/DaÄŸÄ±tÄ±m"
        formul: "rvol * 0.5 + hacim_trend * 0.3 + ad_cizgi * 0.2"
        
      korelasyon_skoru:
        agirlik: 0.10
        metrikler:
          - "BTC ile korelasyon"
          - "Mevcut portfÃ¶y ile korelasyon"
          - "SektÃ¶r Ã§eÅŸitliliÄŸi"
        formul: "cesitlilik_bonusu - portfoy_korelasyon_cezasi"
        amac: "PortfÃ¶y korelasyonunu azalt"
        
  ml_destekli_secim:
    model: "LightGBM Ranker"
    
    ozellikler:
      teknik: [
        "YukarÄ±daki tÃ¼m skorlama metrikleri",
        "GeÃ§miÅŸ performans",
        "Volatilite rejimi"
      ]
      
      temel: [
        "Piyasa deÄŸeri sÄ±ralamasÄ±",
        "Hacim sÄ±ralamasÄ±",
        "Borsa listeleme sayÄ±sÄ±"
      ]
      
      duygu: [
        "Sosyal medya bahsedilmeleri (opsiyonel)",
        "Haber duygusu (opsiyonel)",
        "Balina aktivitesi (on-chain)"
      ]
      
    egitim:
      hedef: "Coin'in Sharpe oranÄ± (sonraki 7 gÃ¼n)"
      dogrulama: "Ä°leri yÃ¼rÃ¼me (aylÄ±k)"
      yeniden_egitim_sikliÄŸi: "haftalÄ±k"
      
    tahmin:
      cikti: "Beklenen Sharpe skoru"
      birlestir: "Kural tabanlÄ± skorlar ile"
      final_siralama: "0.6 * ml_skor + 0.4 * kural_skor"
      
  secim_mantiÄŸi:
    faz_tabanli_secim:
      faz_1_temel:
        coin_sayisi: 5
        strateji: "Muhafazakar (yÃ¼ksek likidite, dÃ¼ÅŸÃ¼k volatilite)"
        filtreler:
          - "Piyasa deÄŸerine gÃ¶re ilk 50"
          - "Volatilite < 0.6"
          - "Likidite skoru > 0.7"
          
      faz_2_genisleme:
        coin_sayisi: 10
        strateji: "Dengeli (orta risk)"
        filtreler:
          - "Piyasa deÄŸerine gÃ¶re ilk 100"
          - "Volatilite 0.4-0.7"
          - "Trend gÃ¼cÃ¼ > 0.5"
          
      faz_3_optimizasyon:
        coin_sayisi: 20
        strateji: "Agresif (yÃ¼ksek fÄ±rsat)"
        filtreler:
          - "Piyasa deÄŸerine gÃ¶re ilk 200"
          - "Volatilite 0.5-0.8"
          - "ML skoru > 0.6"
          
  portfoy_olusturma:
    yontem: "Dinamik dengeleme"
    
    tahsis_agirliklari:
      esit_agirlik: false
      skor_agirlikli: true
      formul: "pozisyon_agirligi = coin_skor / toplam(tum_skorlar)"
      
    kisitlar:
      min_coin_tahsisi: 0.02  # 2% min
      max_coin_tahsisi: 0.15  # 15% max
      hedef_coin_sayisi: "Faz baÄŸÄ±mlÄ±"
      
    yeniden_dengeleme:
      siklik: "haftalÄ±k"
      tetikleyiciler:
        - "Coin skoru eÅŸiÄŸin altÄ±na dÃ¼ÅŸerse"
        - "Yeni yÃ¼ksek skorlu coin ortaya Ã§Ä±karsa"
        - "Korelasyon artÄ±ÅŸÄ± tespit edilirse"
      kriterler:
        - "Minimum iyileÅŸtirme: %5 skor kazancÄ±"
        - "Ä°ÅŸlem maliyeti dikkate alÄ±nmasÄ±"
        - "KarlÄ± pozisyonlardan Ã§Ä±kma"
        
  izleme:
    gercek_zamanli:
      - "Coin skor evrimi"
      - "Likidite deÄŸiÅŸimleri"
      - "Korelasyon matrisi gÃ¼ncellemeleri"
      
    gunluk:
      - "Skor sÄ±ralama deÄŸiÅŸimleri"
      - "Yeni coin adaylarÄ±"
      - "Kara liste gÃ¼ncellemeleri"
      
    haftalik:
      - "PortfÃ¶y performans atfÄ±"
      - "Coin seÃ§im doÄŸruluÄŸu"
      - "ML model performansÄ±"
      
  uygulama:
    guncelleme_sikliÄŸi: "Her 4 saatte bir"
    hesaplama_suresi: "<5 dakika"
    
    hat:
      adim_1: "Evren verisi Ã§ek (tÃ¼m uygun coinler)"
      adim_2: "Teknik skorlarÄ± hesapla"
      adim_3: "ML tahminlerini Ã§alÄ±ÅŸtÄ±r"
      adim_4: "SkorlarÄ± birleÅŸtir"
      adim_5: "Filtreleri ve kÄ±sÄ±tlarÄ± uygula"
      adim_6: "Yeniden dengeleme emirleri oluÅŸtur (gerekirse)"
      adim_7: "Dashboard'u gÃ¼ncelle"
      
    veritabani:
      tablo: "coin_skorlari"
      kolonlar:
        - "zaman_damgasi"
        - "sembol"
        - "likidite_skoru"
        - "volatilite_skoru"
        - "trend_skoru"
        - "momentum_skoru"
        - "hacim_skoru"
        - "korelasyon_skoru"
        - "ml_skoru"
        - "final_skor"
        - "siralama"
        - "secildi"
      saklama: "90 gÃ¼n"
```

### Katman 2: YÃ¼rÃ¼tme ve Maliyet Modeli

```yaml
yurutme_motoru:
  emir_turleri:
    birincil: "POST-ONLY Limit Emirleri"  # Maker Ã¼cretleri
    yedek: "Market Emirleri"              # Sadece acil durum
    
  maliyet_modeli:
    ucretler:
      maker: 0.001  # %0.1
      taker: 0.001  # %0.1
      vip_seviyeleri: [0.0009, 0.00085, 0.0008]  # Hacim bazlÄ±
      
    kayma_modeli:
      temel: 0.0005  # %0.05
      volatilite_carpani: "ATR(14) * 0.1"
      hacim_etkisi: "emir_boyutu / ort_hacim_1s * 0.01"
      
    spread_maliyeti:
      hesaplama: "(ask - bid) / 2"
      max_kabul_edilebilir: 0.002  # %0.2
      
  gecikme_simulatoru:
    api_gecikmesi: "50-200ms (rastgele)"
    isleme: "10-30ms"
    toplam_max: "500ms"
```

### Katman 3: Sinyal Ãœretim Sistemi

```yaml
sinyal_ureticileri:
  birincil_indikatorler:
    trend:
      - isim: "SuperTrend"
        parametreler: {periyod: [7, 14], carpan: [2.0, 4.0]}
      - isim: "MOST"
        parametreler: {periyod: [9, 21], yuzde: [1.0, 3.0]}
        
    momentum:
      - isim: "QQE MOD"
        parametreler: {rsi: [14, 21], yumusatma: [5, 9]}
      - isim: "Squeeze Momentum"
        parametreler: {bb_periyod: 20, kc_periyod: 20, mom_periyod: 12}
        
    hacim:
      - isim: "RVOL"
        parametreler: {geriye_bakis: [14, 30], esik: [1.5, 2.5]}
      - isim: "CVD (KÃ¼mÃ¼latif Hacim DeltasÄ±)"
        parametreler: {periyod: 24}
        
    volatilite:
      - isim: "ATR"
        parametreler: {periyod: [14, 21]}
      - isim: "Bollinger BantlarÄ±"
        parametreler: {periyod: 20, std: [2, 2.5]}
        
  sinyal_birlestirme:
    yontem: "Piyasa rejimi baÄŸlamÄ±nda aÄŸÄ±rlÄ±klÄ± oylama"
    agirliklar:
      boga_piyasasi: {trend: 0.4, momentum: 0.3, hacim: 0.3}
      ayi_piyasasi: {trend: 0.5, momentum: 0.2, hacim: 0.3}
      yatay: {momentum: 0.4, hacim: 0.3, volatilite: 0.3}
```

### Katman 4: Risk YÃ¶netim Ã‡erÃ§evesi

```yaml
risk_yonetimi:
  pozisyon_boyutlandirma:
    temel_yontem: "Volatilite AyarlÄ± Kelly Kriteri"
    formul: "Kelly * 0.25 * (1 / ATR_normalize)"
    kisitlar:
      min_pozisyon: 0.001  # %0.1 portfÃ¶y
      max_pozisyon: 0.03   # %3 portfÃ¶y
      max_portfoy_isisi: 0.06  # %6 toplam risk
      
  stop_loss:
    birincil: "ATR bazlÄ± dinamik"
    hesaplama: "giris - (ATR * carpan)"
    carpan_araligi: [1.5, 3.0]
    trade_basina_max_kayip: 0.02  # %2
    
  kar_al:
    yontem: "Adaptif Risk-Ã–dÃ¼l OranÄ± (Katman 4.5)"
    minimum_rr: 1.1
    maksimum_rr: 1.9
    dinamik_ayarlama: "Sinyal + Piyasa + RL bazlÄ±"
    kismi_cikislar: [0.5, 0.75, 1.0]
    
  korelasyon_yonetimi:
    max_iliskili_pozisyon: 3
    korelasyon_esigi: 0.7
    portfoy_beta_limiti: 1.5
    
  dusus_kontrolu:
    gunluk_kayip_limiti: 0.03  # %3
    haftalik_kayip_limiti: 0.06  # %6
    aylik_kayip_limiti: 0.10  # %10
    kurtarma_modu_esigi: 0.08  # %8 DD'de muhafazakara gec
```

### Katman 4.5: Adaptif RR Sistemi (YENÄ° - Entegre)

```yaml
adaptif_rr_sistemi:
  versiyon: "2.0 - Tamamen Adaptif"
  durum: "Ãœretim HazÄ±r"
  
  cekirdek_bilesenler:
    sinyal_guveni:
      indikatorler: ["SuperTrend", "MOST", "QQE", "RVOL"]
      agirliklar: [0.3, 0.3, 0.2, 0.2]
      guven_araligi: [0.0, 1.0]
      
    piyasa_durumu:
      trend_gucu: "normalize(abs(most - supertrend))"
      volatilite: "normalize(atr / fiyat)"
      formul: "0.5 * (1 - trend_gucu) + 0.5 * volatilite"
      
    rl_optimizasyonu:
      algoritma: "Adaptif Gradyan Ä°niÅŸi"
      ogrenme_hizi: "BaÄŸlam farkÄ±nda (aÅŸaÄŸÄ±ya bakÄ±n)"
      guncelleme_sikliÄŸi: "Her trade sonrasÄ±"
      
  adaptif_ogrenme:
    ogrenme_hizi_hesaplama:
      bilesenler:
        volatilite_bileseni:
          formul: "clip(volatilite * 0.05, 0.001, 0.03)"
          agirlik: 1.0
          
        performans_bileseni:
          kazanma_orani_yuksek: {esik: ">%60", carpan: 0.5}
          kazanma_orani_dusuk: {esik: "<%40", carpan: 1.5}
          kazanma_orani_orta: {varsayilan: 1.0}
          
        guven_bileseni:
          formul: "0.5 + (sinyal_guveni * 0.5)"
          amac: "DÃ¼ÅŸÃ¼k gÃ¼ven = daha yavaÅŸ Ã¶ÄŸrenme"
          
        zaman_azalimi:
          formul: "max(0.5, 1.0 - (aktif_gun / 180))"
          amac: "Sistem olgunlaÅŸtÄ±kÃ§a yavaÅŸlar"
          
      final_formul: |
        ogrenme_hizi = (
          volatilite_bileseni * 
          performans_carpani * 
          guven_carpani * 
          zaman_azalimi
        )
        ogrenme_hizi = clip(ogrenme_hizi, 0.001, 0.05)
        
  odul_sistemi:
    pnl_normalizasyonu:
      formul: "log1p(abs(pnl)) * sign(pnl)"
      
    rr_verimliligi:
      formul: "min(1.0, rr_ulasildi / rr_hedef)"
      
    zaman_cezasi:
      formul: "max(0.5, 1.0 - (tutma_saat / 168))"
      amac: "1 haftadan fazla tutulan pozisyonlarÄ± cezalandÄ±r"
      
    final_odul:
      formul: "pnl_norm * rr_verimliligi * zaman_cezasi"
      
  guncelleme_mekanizmasi:
    asimetrik_guncellemeler:
      kar_senaryosu:
        hedef: 1.2
        formul: "lr * (1.2 - mevcut_rl) * 0.5"
        hiz: "Orta (0.5x)"
        
      kayip_senaryosu:
        hedef: 0.8
        formul: "-lr * (mevcut_rl - 0.8) * 0.3"
        hiz: "Daha yavaÅŸ (0.3x)"
        
    kisitlar:
      rl_faktor_araligi: [0.7, 1.3]
      rr_araligi: [1.1, 1.9]
      
  stabilizasyon:
    pencere_boyutu: 20
    volatilite_esigi: 0.4
    dondurma_suresi: "24 saat"
    dondurma_kosulu: "std(rr_degisimler[-20:]) > 0.4"
    
  kalicilik:
    durum_dosyalari:
      agirliklar: "state/rr_weights.json"
      gecmis: "state/rr_learning_history.json"
    kayit_sikliÄŸi: "Her gÃ¼ncelleme sonrasÄ±"
    kurtarma: "BaÅŸlangÄ±Ã§ta otomatik yÃ¼kle"
    
  formul_ozeti: |
    # Final RR Hesaplama
    sinyal_guven = agirlikli_ort([st, qqe, most, rvol])
    piyasa_dur = 0.5*(1-trend_guc) + 0.5*volatilite
    
    rr_sinyal = 1.5 - (sinyal_guven * 0.4)
    rr_piyasa = rr_sinyal + (piyasa_dur * 0.3)
    rr_final = rr_piyasa * rr_weights["rl_factor"]
    rr_final = clip(rr_final, 1.1, 1.9)
```

### Katman 5: Makine Ã–ÄŸrenimi HattÄ±

```yaml
ml_cercevesi:
  ozellik_muhendisligi:
    teknik_ozellikler:
      - "Fiyat aksiyon kalÄ±plarÄ± (candlestick)"
      - "Destek/DirenÃ§ seviyeleri"
      - "Trend gÃ¼cÃ¼ indikatÃ¶rleri"
      - "Hacim profili"
      
    piyasa_mikroyapisi:
      - "Order book dengesizliÄŸi"
      - "Spread dinamikleri"
      - "Trade akÄ±ÅŸ toksisitesi"
      
    zamansal_ozellikler:
      - "GÃ¼nÃ¼n saati"
      - "HaftanÄ±n gÃ¼nÃ¼"
      - "AylÄ±k mevsimsellik"
      
  on_isleme:
    olcekleme: "RobustScaler"
    ozellik_secimi: "Ã–zyinelemeli Ã–zellik Eliminasyonu"
    boyut_azaltma: "PCA (%95 varyans koru)"
    
  model_mimarisi:
    topluluk:
      - model: "LightGBM"
        agirlik: 0.3
        gorev: "YÃ¶n tahmini"
        
      - model: "LSTM"
        agirlik: 0.3
        gorev: "Fiyat hareket bÃ¼yÃ¼klÃ¼ÄŸÃ¼"
        
      - model: "Random Forest"
        agirlik: 0.2
        gorev: "Volatilite tahmini"
        
      - model: "XGBoost"
        agirlik: 0.2
        gorev: "Hacim tahmini"
        
  dogrulama_stratejisi:
    yontem: "Zaman Serisi Ã‡apraz DoÄŸrulama"
    egitim_boyutu: 0.6
    dogrulama_boyutu: 0.2
    test_boyutu: 0.2
    ileri_yuruyen_pencereler: 10
    temizlenmis_ambargo: "2 saat"
```

### Katman 6: PekiÅŸtirmeli Ã–ÄŸrenme Sistemi

```yaml
rl_mimarisi:
  algoritma: "Proximal Policy Optimization (PPO)"
  
  durum_uzayi:
    piyasa_ozellikleri: 50
    portfoy_ozellikleri: 10
    zamansal_ozellikler: 5
    rr_sistem_ozellikleri: 3  # YENÄ°: rl_factor, rr_volatilite, ogrenme_hizi
    toplam_boyut: 68
    
  aksiyon_uzayi:
    tip: "Ayrik"
    aksiyonlar: ["guclu_al", "al", "tut", "sat", "guclu_sat"]
    pozisyon_boyutlari: [0.5, 1.0, 1.5, 2.0]  # Temel boyut carpani
    
  odul_fonksiyonu:
    bilesenler:
      - isim: "gerceklesen_pnl"
        agirlik: 0.4
        
      - isim: "sharpe_orani"
        agirlik: 0.3
        
      - isim: "dusus_cezasi"
        agirlik: -0.2
        
      - isim: "islem_maliyeti"
        agirlik: -0.1
        
  hiperparametreler:
    ogrenme_hizi: 0.0001
    batch_boyutu: 256
    epoch: 10
    clip_araligi: 0.2
    gamma: 0.99
    gae_lambda: 0.95
    
  egitim_takvimi:
    isinma_bolum: 1000
    kesif_azalimi: "dogrusal(1.0 â†’ 0.1)"
    guncelleme_sikliÄŸi: "her 100 trade"
```

### Katman 7: Piyasa Rejimi Tespiti

```yaml
rejim_tespiti:
  modeller:
    hmm:
      tip: "Gizli Markov Modeli"
      durumlar: ["boga", "ayi", "yatay", "oynnak"]
      ozellikler: ["getiriler", "hacim", "volatilite"]
      
    kumeleme:
      tip: "DBSCAN + K-Means"
      ozellikler: ["trend_gucu", "volatilite", "hacim_profili"]
      
  rejim_ozel_parametreler:
    boga:
      pozisyon_boyut_carpani: 1.2
      rr_carpani: 1.1  # YENÄ°: BoÄŸa piyasasÄ±nda daha yÃ¼ksek RR hedefleri
      tercih_edilen_indikatorler: ["trend_takibi"]
      
    ayi:
      pozisyon_boyut_carpani: 0.7
      rr_carpani: 0.9  # YENÄ°: AyÄ± piyasasÄ±nda daha dÃ¼ÅŸÃ¼k RR hedefleri
      tercih_edilen_indikatorler: ["ortalamaya_donme"]
      
    yatay:
      pozisyon_boyut_carpani: 0.5
      rr_carpani: 1.0
      aralik_trading_modu: true
      
    oynnak:
      pozisyon_boyut_carpani: 0.3
      rr_carpani: 0.85  # YENÄ°: Daha muhafazakar RR
      genis_stoplar: 1.5
```

### Katman 8: PortfÃ¶y YÃ¶netimi

```yaml
portfoy_optimizasyonu:
  tahsis_yontemi: "HiyerarÅŸik Risk Paritesi"
  
  kisitlar:
    max_pozisyon: 10
    min_pozisyon_boyutu: 0.001
    max_pozisyon_boyutu: 0.05
    max_sektor_maruziyet: 0.3
    
  yeniden_dengeleme:
    siklik: "gÃ¼nlÃ¼k"
    esik: 0.1  # %10 sapma
    yontem: "islem_maliyetlerini_minimize_et"
    
  korelasyon_matrisi:
    guncelleme_sikliÄŸi: "saatlik"
    geriye_bakis_periyodu: "30 gÃ¼n"
    yontem: "ustel_agirlikli"
    
  performans_atfi:
    - "varlik_tahsisi"
    - "menkul_kiymet_secimi"
    - "etkilesim_etkisi"
    - "para_birimi_etkisi"
```

### Katman 9: Sistem OperasyonlarÄ± ve YaÅŸam DÃ¶ngÃ¼sÃ¼ YÃ¶netimi (YENÄ°)

```yaml
sistem_operasyonlari:
  
  # ========================
  # TRADE GEÃ‡MÄ°ÅÄ° YÃ–NETÄ°CÄ°SÄ°
  # ========================
  trade_gecmis_yoneticisi:
    amac: "Eksiksiz trade yaÅŸam dÃ¶ngÃ¼sÃ¼ izleme ve analitik"
    
    veritabani_semasi:
      tablo: "trades"
      kolonlar:
        - trade_id: "UUID PRIMARY KEY"
        - sembol: "VARCHAR(20)"
        - taraf: "ENUM(LONG, SHORT)"
        - giris_fiyat: "DECIMAL(20,8)"
        - cikis_fiyat: "DECIMAL(20,8)"
        - giris_zaman: "TIMESTAMP"
        - cikis_zaman: "TIMESTAMP"
        - miktar: "DECIMAL(20,8)"
        - pnl_mutlak: "DECIMAL(20,8)"
        - pnl_yuzde: "DECIMAL(10,4)"
        - pnl_net: "DECIMAL(20,8)"  # Ãœcretler sonrasÄ±
        - odenen_ucretler: "DECIMAL(20,8)"
        - kayma: "DECIMAL(10,4)"
        - rr_hedef: "DECIMAL(5,2)"
        - rr_ulasildi: "DECIMAL(5,2)"
        - stop_loss: "DECIMAL(20,8)"
        - kar_al: "DECIMAL(20,8)"
        - cikis_nedeni: "ENUM(RR_HEDEF, STOP_LOSS, SINYAL_TERSI, MANUEL, ACIL)"
        - tutma_suresi_saniye: "INTEGER"
        - sinyal_guveni: "JSONB"
        - piyasa_kosullari: "JSONB"
        - rl_durumu: "JSONB"
        - mae: "DECIMAL(10,4)"  # Maksimum Olumsuz Sapma
        - mfe: "DECIMAL(10,4)"  # Maksimum Olumlu Sapma
        
      indeksler:
        - "sembol, giris_zaman"
        - "cikis_nedeni, pnl_yuzde"
        - "giris_zaman DESC"
        - "sembol, cikis_nedeni"
        
    depolama:
      birincil: "PostgreSQL"
      analitik: "InfluxDB (zaman serisi)"
      onbellek: "Redis (24s sÄ±cak veri)"
      
    analitik_fonksiyonlar:
      - zaman_dilimine_gore_kazanma_orani()
      - sinyal_turune_gore_ort_rr()
      - pnl_dagilis_analizi()
      - sinyal_dogruluk_takipci()
      - piyasa_durumu_performans()
      - mae_mfe_analizi()
      
  # ========================
  # KAPATMA YÃ–NETÄ°CÄ°SÄ°
  # ========================
  kapatma_yoneticisi:
    amac: "Durum koruma ile zarif sistem kapatma"
    
    tetikleme_sinyalleri:
      - "SIGINT (Ctrl+C)"
      - "SIGTERM (kill komutu)"
      - "API baÄŸlantÄ±sÄ± kaybÄ± > 60s"
      - "Ana dÃ¶ngÃ¼de iÅŸlenmemiÅŸ istisna"
      
    kapatma_sirasi:
      adim_1:
        islem: "Yeni sinyalleri kabul etmeyi durdur"
        zaman_asimi: "0s"
        
      adim_2:
        islem: "Bekleyen tÃ¼m limit emirlerini iptal et"
        yontem: "Binance REST API cancel_all_orders()"
        zaman_asimi: "5s"
        
      adim_3:
        karar: "AÃ§Ä±k pozisyonlarÄ± iÅŸle"
        secenekler:
          tumunu_kapat:
            kosul: "config.kapatmada_pozisyonlari_kapat == true"
            yontem: "Market emirleri (%1 kayma toleransÄ±)"
            
          pozisyonlari_tut:
            kosul: "config.kapatmada_pozisyonlari_kapat == false"
            islem: "Pozisyon durumunu kurtarma dosyasÄ±na kaydet"
            dosya: "state/open_positions.json"
            
      adim_4:
        islem: "TÃ¼m durum dosyalarÄ±nÄ± temizle"
        dosyalar:
          - "state/rr_weights.json"
          - "state/rr_learning_history.json"
          - "state/trade_history_buffer.json"
          - "state/model_checkpoint.pkl"
          - "state/rl_experience_replay.pkl"
          - "state/open_positions.json"
        zaman_asimi: "10s"
        
      adim_5:
        islem: "VeritabanÄ± baÄŸlantÄ±larÄ±nÄ± kapat"
        veritabanlari:
          - "PostgreSQL (trades DB)"
          - "Redis (Ã¶nbellek)"
          - "InfluxDB (metrikler)"
        zaman_asimi: "5s"
        
      adim_6:
        islem: "Kapatma raporu oluÅŸtur"
        icerik:
          - "Aktif pozisyonlar (tutulmuÅŸsa)"
          - "Son 10 trade Ã¶zeti"
          - "Sistem Ã§alÄ±ÅŸma sÃ¼resi"
          - "Performans metrikleri anlÄ±k gÃ¶rÃ¼ntÃ¼sÃ¼"
          - "RR sistem durumu"
        kaydet: "logs/kapatma_raporu_{zaman_damgasi}.json"
        
      adim_7:
        islem: "Bildirim gÃ¶nder"
        kanallar:
          - "Telegram (etkinse)"
          - "E-posta (etkinse)"
          - "Discord webhook (etkinse)"
        mesaj: "Sistem kapatma tamamlandÄ±"
        
    acil_kapatma:
      tetikleyiciler:
        - "Bellek kullanÄ±mÄ± > %90"
        - "Disk alanÄ± < 1GB"
        - "API baÄŸlantÄ±sÄ± kayÄ±p > 60s"
        - "Trading dÃ¶ngÃ¼sÃ¼nde kritik istisna"
        
      islem: "TÃ¼m pozisyonlarÄ± zorla kapat + acil durum kaydÄ±"
      max_zaman_asimi: "30s"
      
  # ========================
  # YEDEKLEME YÃ–NETÄ°CÄ°SÄ°
  # ========================
  yedekleme_yoneticisi:
    amac: "Otomatik yedekleme ve afet kurtarma"
    
    otomatik_yedekleme:
      zamanlamalar:
        saatlik:
          siklik: "Her saat"
          tip: "ArtÄ±msal"
          dosyalar: ["state/", "logs/guncel_gun/"]
          saklama: "48 saat"
          
        gunluk:
          siklik: "Her gÃ¼n 00:00 UTC"
          tip: "Tam"
          dosyalar: ["state/", "logs/", "models/"]
          saklama: "30 gÃ¼n"
          
        haftalik:
          siklik: "Her Pazar 00:00 UTC"
          tip: "ArÅŸiv"
          dosyalar: ["Her ÅŸey"]
          sikistirma: "gzip"
          saklama: "6 ay"
          
    depolama_konumlari:
      yerel:
        yol: "/backups/"
        yapi: "backups/YYYY-AA-GG_SS-DD-SS/"
        
      bulut:
        saglayici: "AWS S3 / Google Cloud Storage"
        kova: "trading-bot-yedekleri"
        sifreleme: "AES-256"
        bolge: "eu-central-1"
        
    kurtarma:
      otomatik_kurtarma:
        baslangicta: true
        kontrol_dosyalari:
          - "state/rr_weights.json"
          - "state/open_positions.json"
          - "state/model_checkpoint.pkl"
        geri_yukle: "en_son_yedek"
        
      manuel_kurtarma:
        komut: "python bot.py --geri-yukle-tarih=2025-01-04_12-00-00"
        dogrulama_adimlari:
          - "Dosya bÃ¼tÃ¼nlÃ¼k kontrolÃ¼ (MD5)"
          - "Model sÃ¼rÃ¼m uyumluluÄŸu"
          - "Pozisyon durumlarÄ± doÄŸrulama"
          - "RR sistem durumu doÄŸrulama"
          
  # ========================
  # Ã–ÄRENME DASHBOARD'U
  # ========================
  ogrenme_dashboard:
    amac: "GerÃ§ek zamanlÄ± RL/ML Ã¶ÄŸrenme ilerleme izleme"
    
    teknoloji:
      cerceve: "Plotly Dash + Streamlit"
      guncelleme_yontemi: "WebSocket (gerÃ§ek zamanlÄ±)"
      port: 8051
      url: "http://localhost:8051/ogrenme"
      
    gercek_zamanli_metrikler:
      rr_evrimi:
        grafik_turu: "Ã‡izgi grafik (yuvarlanan ort ile)"
        veri: "rr_weights.rl_factor zaman iÃ§inde"
        pencere: "1 hafta yuvarlanan"
        alarm: "Std > 0.4 ise"
        
      sinyal_dogrulugu:
        grafik_turu: "IsÄ± haritasÄ±"
        boyutlar: "Ä°ndikatÃ¶r x Piyasa Rejimi"
        metrik: "Kazanma oranÄ±"
        guncelleme: "Her trade sonrasÄ±"
        
      odul_dagilimi:
        grafik_turu: "Histogram + KDE"
        veri: "RL Ã¶dÃ¼lleri (son 500 trade)"
        analiz: "Ã–dÃ¼l kaymasÄ± tespiti"
        
      ogrenme_hizi_trendleri:
        grafik_turu: "Ã‡oklu Ã§izgi"
        cizgiler: ["GerÃ§ek LR", "Volatilite bileÅŸeni", "Performans bileÅŸeni"]
        amac: "Ã–ÄŸrenme dinamiklerini anla"
        
    gunluk_raporlar:
      - ogrenme_hizi:
          metrik: "abs(rr_faktor_degisim) gÃ¼n baÅŸÄ±na"
          hedef: "< 0.05 (stabil Ã¶ÄŸrenme)"
          
      - kesif_istismar:
          metrik: "% keÅŸifsel trade'ler"
          hedef: "DoÄŸrusal azalma %80 â†’ %20"
          
      - model_kayma:
          metrik: "Tahmin doÄŸruluÄŸu vs temel"
          alarm: "%10'dan fazla dÃ¼ÅŸerse"
          
    haftalik_analiz:
      - ozellik_onem_evrimi:
          gorsellestirme: "Sankey diyagramÄ±"
          takip: "Ã–zellik aÄŸÄ±rlÄ±k deÄŸiÅŸimleri"
          
      - piyasa_rejim_adaptasyonu:
          metrikler:
            - "Pozisyon boyutu ayarlamalarÄ±"
            - "RR hedef deÄŸiÅŸimleri"
            - "Ä°ndikatÃ¶r aÄŸÄ±rlÄ±k kaymalarÄ±"
            
      - karsilastirmali_performans:
          karsilastir: "Ã–ÄŸrenme Ã¶ncesi/sonrasÄ±"
          metrikler: ["Kazanma oranÄ±", "Sharpe", "Max DD"]
          
    aylik_raporlar:
      format: "PDF + HTML"
      bolumler:
        - "YÃ¶netici Ã–zeti"
        - "Ã–ÄŸrenme Faz Analizi"
        - "Performans AtfÄ±"
        - "Ã–zellik Ã–nem Trendleri"
        - "Hiperparametre Evrimi"
        - "Hata Modu Analizi"
        - "Gelecek Ay Ã–nerileri"
        
  # ========================
  # GÃ–RSEL DASHBOARD
  # ========================
  gorsel_dashboard:
    amac: "GerÃ§ek zamanlÄ± trading operasyon izleme"
    
    teknoloji:
      birincil: "Grafana (mevcut metrikler)"
      ozel: "Plotly Dash (trading'e Ã¶zel)"
      portlar:
        grafana: 3000
        ozel: 8050
        
    sayfalar:
      genel_bakis:
        widget:
          - "GerÃ§ek zamanlÄ± PnL gÃ¶stergesi"
          - "AÃ§Ä±k pozisyon tablosu"
          - "Son trade'ler (son 20)"
          - "Sistem saÄŸlÄ±k indikatÃ¶rleri"
          - "PortfÃ¶y Ä±sÄ± haritasÄ±"
          
      sinyaller:
        widget:
          - "Sinyal gÃ¼cÃ¼ Ä±sÄ± haritasÄ± (tÃ¼m coinler)"
          - "Ä°ndikatÃ¶r hizalama gÃ¶rselleÅŸtirmesi"
          - "GiriÅŸ fÄ±rsat tarayÄ±cÄ±"
          - "Sinyal gÃ¼ven daÄŸÄ±lÄ±mÄ±"
          
      risk:
        widget:
          - "PortfÃ¶y Ä±sÄ± gÃ¶stergesi (mevcut/max)"
          - "Korelasyon matrisi (canlÄ±)"
          - "DÃ¼ÅŸÃ¼ÅŸ grafiÄŸi (gerÃ§ek zamanlÄ±)"
          - "Pozisyon boyutu daÄŸÄ±lÄ±mÄ±"
          - "Stop-loss gÃ¶rselleÅŸtirme"
          
      performans:
        widget:
          - "Equity eÄŸrisi (kÃ¼mÃ¼latif)"
          - "Strateji tÃ¼rÃ¼ne gÃ¶re PnL"
          - "Kazanma oranÄ± trendleri (yuvarlanan)"
          - "RR ulaÅŸÄ±m daÄŸÄ±lÄ±mÄ±"
          - "Sharpe oranÄ± evrimi"
          
      rr_sistemi:  # YENÄ° SAYFA
        widget:
          - "RR evrimi grafiÄŸi (rl_factor)"
          - "Ã–ÄŸrenme hÄ±zÄ± dinamikleri"
          - "Ã–dÃ¼l daÄŸÄ±lÄ±mÄ±"
          - "Sinyal vs Piyasa katkÄ±sÄ±"
          - "Stabilizasyon olaylarÄ± zaman Ã§izelgesi"
          
      sistem:
        widget:
          - "CPU / RAM / Disk kullanÄ±mÄ±"
          - "API gecikme histogramÄ±"
          - "Hata log gÃ¶rÃ¼ntÃ¼leyici (son 100)"
          - "Yedekleme durumu"
          - "VeritabanÄ± metrikleri"
          
  # ========================
  # Ä°ZLEME VE ALARMLAR
  # ========================
  izleme:
    saglik_kontrolleri:
      siklik: "Her 30s"
      kontroller:
        - "API baÄŸlantÄ±sÄ±"
        - "VeritabanÄ± baÄŸlanabilirliÄŸi"
        - "Redis eriÅŸilebilirliÄŸi"
        - "Disk alanÄ± > 5GB"
        - "Bellek kullanÄ±mÄ± < %85"
        - "Trading dÃ¶ngÃ¼sÃ¼ canlÄ±"
        
    alarmlar:
      kritik:
        - tetikleyici: "API baÄŸlantÄ±sÄ± kayÄ±p > 60s"
          islem: "Acil kapatma + Telegram alarmÄ±"
          
        - tetikleyici: "DÃ¼ÅŸÃ¼ÅŸ > %10"
          islem: "Trading durdur + E-posta + SMS"
          
        - tetikleyici: "Kazanma oranÄ± < %30 (son 50 trade)"
          islem: "Paper moda geÃ§ + Alarm"
          
      uyari:
        - tetikleyici: "RR volatilitesi > 0.4"
          islem: "RR gÃ¼ncellemelerini dondur + Log"
          
        - tetikleyici: "ArdÄ±ÅŸÄ±k kayÄ±plar > 5"
          islem: "Pozisyon boyutlarÄ±nÄ± %30 azalt"
          
      bilgi:
        - tetikleyici: "Yeni yedek tamamlandÄ±"
          islem: "Sadece log"
          
        - tetikleyici: "Model yeniden eÄŸitildi"
          islem: "Dashboard bildirimi"
```

---

## ğŸ“Š Kademeli 6 AylÄ±k EÄŸitim Takvimi

### Ay 1-2: Temel Faz
```yaml
faz_1:
  hedefler:
    - "Sistem stabilitesi ve Ã§alÄ±ÅŸma sÃ¼resi"
    - "Veri hattÄ± doÄŸrulama"
    - "Temel sinyal testleri"
    - "RR sistem baÅŸlatma"
    
  konfigurasy on:
    aktif_coinler: 5
    pozisyon_boyutu: 0.005  # %0.5
    max_gunluk_trade: 10
    kesif_orani: 0.8
    rr_ogrenme_hizi: 0.02  # BaÅŸlangÄ±Ã§ta daha yÃ¼ksek
    
  ml_ayarlari:
    model_karmasikligi: "basit"
    ozellik_sayisi: 20
    yeniden_egitim_sikliÄŸi: "haftalÄ±k"
    
  basari_metrikleri:
    calisma_suresi: ">%99"
    veri_kalitesi: ">%95"
    yurutme_basarisi: ">%90"
    rr_sistem_stabil: "Donma yok"
```

### Ay 3-4: GeniÅŸleme FazÄ±
```yaml
faz_2:
  hedefler:
    - "Ã‡oklu zaman dilimi entegrasyonu"
    - "ML model doÄŸrulama"
    - "RR adaptasyon izleme"
    
  konfigurasy on:
    aktif_coinler: 10
    pozisyon_boyutu: 0.01  # %1
    max_gunluk_trade: 25
    kesif_orani: 0.5
    rr_ogrenme_hizi: 0.01  # Adaptif devreye girer
    
  ml_ayarlari:
    model_karmasikligi: "orta"
    ozellik_sayisi: 50
    topluluk_aktif: true
    yeniden_egitim_sikliÄŸi: "3 gÃ¼n"
    
  basari_metrikleri:
    kazanma_orani: ">%45"
    sharpe_orani: ">0.5"
    max_dusus: "<%10"
    ort_rr_ulasildi: ">1.3"
```

### Ay 5-6: Optimizasyon FazÄ±
```yaml
faz_3:
  hedefler:
    - "Tam sistem entegrasyonu"
    - "Performans optimizasyonu"
    - "Mainnet hazÄ±rlÄ±ÄŸÄ±"
    - "RR sistem olgunluÄŸu"
    
  konfigurasy on:
    aktif_coinler: 20
    pozisyon_boyutu: 0.02  # %2
    max_gunluk_trade: 50
    kesif_orani: 0.2
    rr_ogrenme_hizi: 0.005  # Olgun, yavaÅŸ gÃ¼ncellemeler
    
  ml_ayarlari:
    model_karmasikligi: "tam"
    ozellik_sayisi: 100+
    rl_ajan_aktif: true
    yeniden_egitim_sikliÄŸi: "gÃ¼nlÃ¼k"
    
  basari_metrikleri:
    kazanma_orani: ">%55"
    sharpe_orani: ">1.2"
    kar_faktoru: ">1.5"
    max_dusus: "<%8"
    rr_stabilite: "<0.3 volatilite"
```

---

## ğŸ”„ Adaptif Ã–ÄŸrenme Ã‡erÃ§evesi

### Meta-Ã–ÄŸrenme Sistemi
```yaml
meta_ogrenme:
  bilesenler:
    performans_takipci:
      - "Ã–ÄŸrenme eÄŸrisi analizi"
      - "YakÄ±nsama hÄ±zÄ±"
      - "Genelleme aÃ§Ä±ÄŸÄ±"
      - "RR evrimi takibi"  # YENÄ°
      
    hiperparametre_optimize:
      yontem: "Bayesian Optimizasyon"
      arama_uzayi:
        ogrenme_hizi: [0.00001, 0.01]
        batch_boyutu: [32, 512]
        ag_derinligi: [2, 10]
        rr_sinyal_agirlik: [0.5, 0.9]  # YENÄ°
        rr_piyasa_agirlik: [0.1, 0.5]  # YENÄ°
        
    mimari_arama:
      yontem: "Neural Architecture Search (NAS)"
      arama_stratejisi: "evrimsel"
      
  geri_bildirim_donguleri:
    kisa_vadeli: "her 100 trade"
    orta_vadeli: "haftalÄ±k"
    uzun_vadeli: "aylÄ±k"
```

---

## ğŸ“ˆ Performans Ä°zleme

### Anahtar Metrik Dashboard'u
```yaml
kpi_izleme:
  gercek_zamanli:
    - "AÃ§Ä±k pozisyonlar"
    - "GerÃ§ekleÅŸmemiÅŸ PnL"
    - "Marj kullanÄ±mÄ±"
    - "Mevcut RR hedefleri"  # YENÄ°
    
  gunluk:
    - "Kazanma oranÄ±"
    - "Ortalama ulaÅŸÄ±lan RR"  # YENÄ°
    - "Kar faktÃ¶rÃ¼"
    - "RR sistem verimliliÄŸi"  # YENÄ°
    
  haftalik:
    - "Sharpe oranÄ±"
    - "Sortino oranÄ±"
    - "Maksimum dÃ¼ÅŸÃ¼ÅŸ"
    - "RR Ã¶ÄŸrenme ilerleme"  # YENÄ°
    
  aylik:
    - "Alpha"
    - "Beta"
    - "Bilgi oranÄ±"
    - "RR sistem olgunluÄŸu"  # YENÄ°
```

---

## ğŸ›¡ï¸ Risk Kontrolleri ve Devre Kesiciler

```yaml
devre_kesiciler:
  acil_durdurma:
    - tetikleyici: "dusus > %10"
      islem: "tum_trading_durdur"
      
    - tetikleyici: "API baglanti kaybi > 60s"
      islem: "acil_kapatma"
      
    - tetikleyici: "kazanma_orani < %30 (son 50 trade)"
      islem: "paper_moda_gec"
      
  kademeli_azaltma:
    - tetikleyici: "dusus > %5"
      islem: "pozisyon_boyutlarini_%30_azalt"
      
    - tetikleyici: "rr_volatilitesi > 0.4"  # YENÄ°
      islem: "rr_guncellemelerini_24s_dondur"
      
    - tetikleyici: "ardisik_kayiplar > 5"
      islem: "onay_gereksinimlerini_artir"
```

---

## ğŸ’¾ Veri YÃ¶netimi

### Depolama Mimarisi
```yaml
veri_depolama:
  veritabanlari:
    zaman_serisi:
      tip: "InfluxDB"
      saklama: "2 yÄ±l"
      veri: ["fiyatlar", "hacimler", "indikatorler", "rr_degerleri"]  # YENÄ°
      
    iliskisel:
      tip: "PostgreSQL"
      veri: ["trades", "pozisyonlar", "parametreler", "rr_gecmis"]  # YENÄ°
      
    onbellek:
      tip: "Redis"
      ttl: "24 saat"
      veri: ["orderbook", "son_tradelar", "sicak_durum"]
      
  yedekleme:
    siklik: "saatlik"
    konumlar: ["yerel", "bulut"]
    saklama: "30 gÃ¼n"
```

---

## ğŸ” GÃ¼venlik ve Ä°zleme

```yaml
guvenlik:
  api_anahtarlari:
    depolama: "Ortam deÄŸiÅŸkenleri + KMS"
    rotasyon: "aylÄ±k"
    izinler: "sadece trade (Ã§ekim yok)"
    
  oran_sinirlama:
    saniye_basina_emir: 10
    dakika_basina_istek: 1200
    
  denetim_loglama:
    - "TÃ¼m trade'ler"
    - "Parametre deÄŸiÅŸiklikleri"
    - "RR sistem gÃ¼ncellemeleri"  # YENÄ°
    - "Sistem hatalarÄ±"
    - "Kapatma olaylarÄ±"  # YENÄ°
```

---

## ğŸ“ Uygulama Kontrol Listesi

### LansmanÃ¶ncesi (Hafta 0)
- [ ] AltyapÄ± kurulumu
- [ ] PostgreSQL ÅŸema oluÅŸturma
- [ ] Redis konfigÃ¼rasyonu
- [ ] API baÄŸlantÄ±larÄ±
- [ ] State dizin yapÄ±sÄ±

### Hafta 1-2: Temel Operasyonlar
- [ ] TradeHistoryManager implementasyonu
- [ ] ShutdownManager sinyal iÅŸleyicileri ile
- [ ] BackupManager (otomatik + manuel)
- [ ] Config yÃ¶neticisi (YAML yÃ¼kleyici)
- [ ] Logger sistemi (dÃ¶nen dosyalar)

### Hafta 3-4: RR Sistemi
- [ ] AdaptiveRRSystem sÄ±nÄ±fÄ±
- [ ] Adaptif Ã¶ÄŸrenme hÄ±zÄ± mantÄ±ÄŸÄ±
- [ ] Asimetrik gÃ¼ncelleme mekanizmasÄ±
- [ ] Zaman aÄŸÄ±rlÄ±klÄ± Ã¶dÃ¼ller
- [ ] Stabilizasyon dondurma mantÄ±ÄŸÄ±
- [ ] State kalÄ±cÄ±lÄ±ÄŸÄ±

### Hafta 5-6: Dashboard'lar
- [ ] LearningDashboard (Plotly Dash)
- [ ] GÃ¶rsel Dashboard iyileÅŸtirmeleri
- [ ] GerÃ§ek zamanlÄ± RR grafikleri
- [ ] Alarm sistemi entegrasyonu
- [ ] Rapor Ã¼retimi

### Hafta 7-8: Entegrasyon ve Test
- [ ] Tam sistem entegrasyonu
- [ ] Paper trading testleri (100+ trade)
- [ ] Kapatma/kurtarma testleri
- [ ] Yedekleme/geri yÃ¼kleme doÄŸrulama
- [ ] Performans profilleme

### Ay 1-6: Kademeli EÄŸitim
- [ ] **M1:** Stabilite + 100+ trade
- [ ] **M2:** RR sistem Ã¶ÄŸrenme + 500+ trade
- [ ] **M3:** ML modeller aktif + pozitif Sharpe
- [ ] **M4:** Ã‡oklu zaman dilimi + %50+ kazanma oranÄ±
- [ ] **M5:** Tam RL + <%8 dÃ¼ÅŸÃ¼ÅŸ
- [ ] **M6:** Mainnet hazÄ±r + tÃ¼m metrikler yeÅŸil

---

## ğŸ¯ CanlÄ±ya GeÃ§iÅŸ Kriterleri

### Teknik Gereksinimler
- [ ] 3,000+ baÅŸarÄ±lÄ± paper trade
- [ ] Sistem Ã§alÄ±ÅŸma sÃ¼resi > %99.5
- [ ] TÃ¼m veritabanlarÄ± operasyonel
- [ ] Yedekleme sistemi doÄŸrulandÄ±

### Performans Gereksinimleri
- [ ] Sharpe OranÄ± > 1.2
- [ ] Maksimum DÃ¼ÅŸÃ¼ÅŸ < %8
- [ ] Kazanma OranÄ± > %55
- [ ] Kar FaktÃ¶rÃ¼ > 1.5
- [ ] Ortalama ulaÅŸÄ±lan RR > 1.4  # YENÄ°

### RR Sistem Gereksinimleri
- [ ] RR volatilitesi < 0.3
- [ ] Son 30 gÃ¼nde donma olayÄ± yok
- [ ] Ã–ÄŸrenme hÄ±zÄ± < 0.01 (olgunlaÅŸtÄ±)
- [ ] rl_factor stabil (Â±0.05 aralÄ±ÄŸÄ±)

### Operasyonel Gereksinimler
- [ ] 30 ardÄ±ÅŸÄ±k karlÄ± gÃ¼n
- [ ] TÃ¼m devre kesiciler test edildi
- [ ] Afet kurtarma planÄ± doÄŸrulandÄ±
- [ ] Ekip operasyonlarda eÄŸitildi

---

## ğŸ“š Teknoloji YÄ±ÄŸÄ±nÄ±

```yaml
teknoloji:
  diller:
    birincil: "Python 3.10+"
    performans_kritik: "Rust (yÃ¼rÃ¼tme motoru)"
    
  cerceveler:
    ml: ["TensorFlow", "PyTorch", "scikit-learn"]
    rl: ["Stable-Baselines3", "Ray RLlib"]
    veri: ["Pandas", "Polars", "Apache Arrow"]
    web: ["Plotly Dash", "Streamlit", "Grafana"]  # YENÄ°
    
  altyapi:
    bilisim: "AWS EC2 / Google Cloud"
    izleme: ["Grafana", "Prometheus"]
    loglama: ["ELK Stack"]
    
  veritabanlari:
    zaman_serisi: "InfluxDB 2.x"
    iliskisel: "PostgreSQL 15+"
    onbellek: "Redis 7+"
    
  kutuphaneler:
    teknik_analiz: ["TA-Lib", "pandas-ta"]
    backtesting: ["Vectorbt", "Zipline"]
    optimizasyon: ["Optuna", "Hyperopt"]
```

---

## ğŸ”„ SÃ¼rekli Ä°yileÅŸtirme

### HaftalÄ±k Ä°ncelemeler
- Performans analizi
- RR sistem saÄŸlÄ±k kontrolÃ¼
- Parametre ayarlamalarÄ±
- Piyasa rejimi gÃ¼ncellemeleri
- Model yeniden eÄŸitim kararlarÄ±

### AylÄ±k Evrim
- Strateji ekleme/Ã§Ä±karma
- Ã–zellik mÃ¼hendisliÄŸi gÃ¼ncellemeleri
- Risk parametre ayarlamalarÄ±
- AltyapÄ± Ã¶lÃ§eklendirme
- RR sistem olgunluk deÄŸerlendirmesi

### ÃœÃ§ AylÄ±k DeÄŸerlendirmeler
- Eksiksiz sistem denetimi
- Maliyet-fayda analizi
- Teknoloji yÄ±ÄŸÄ±nÄ± gÃ¼ncellemeleri
- Stratejik yÃ¶n incelemesi
- Uzun vadeli RR performansÄ±

---

## ğŸ“Š Sistem Durum DosyalarÄ±

```yaml
durum_dizin_yapisi:
  state/:
    - rr_weights.json              # Mevcut RR sistem aÄŸÄ±rlÄ±klarÄ±
    - rr_learning_history.json     # Son 500 trade Ã¶ÄŸrenme verisi
    - trade_history_buffer.json    # Bekleyen DB yazmalarÄ±
    - model_checkpoint.pkl         # ML model durumu
    - rl_experience_replay.pkl     # RL eÄŸitim tamponu
    - open_positions.json          # Aktif pozisyonlar
    - system_metrics.json          # Ã‡alÄ±ÅŸma zamanÄ± istatistikleri
    
  backups/:
    - YYYY-AA-GG_SS-DD-SS/        # Zaman damgalÄ± yedekler
      - state/
      - logs/
      - models/
      
  logs/:
    - trading.log                  # Ana trading logu
    - errors.log                   # Hata logu
    - performance.log              # Performans metrikleri
    - rr_system.log               # RR sistem gÃ¼ncellemeleri
    - kapatma_raporlari/          # Kapatma olay loglarÄ±
```

---

## ğŸ¯ BaÅŸarÄ± Metrikleri (6 Ay Sonunda)

```yaml
performans_hedefleri:
  getiriler:
    aylik: "%5-10"
    yillik_tahmin: "%60-120"
    
  risk_metrikleri:
    sharpe_orani: ">1.5"
    sortino_orani: ">2.0"
    max_dusus: "<%8"
    
  operasyonel:
    kazanma_orani: "%55-60"
    kar_faktoru: ">1.5"
    ort_ulasildi_rr: ">1.4"  # YENÄ°
    rr_sistem_verimliligi: ">%85"  # YENÄ°
    
  maliyetler:
    toplam_ucretler: "<%0.5 aylÄ±k"
    kayma: "<%0.1 trade baÅŸÄ±na"
    
  sistem:
    calisma_suresi: ">%99.5"
    ort_kapatma_suresi: "<30s"
    yedekleme_basari_orani: "%100"
```

---

*Versiyon: 4.1 - Final Ãœretim HazÄ±r*  
*Son GÃ¼ncelleme: Ocak 2025*  
*Durum: Uygulama Ä°Ã§in HazÄ±r*  
*Sonraki AdÄ±m: Faz 1 modÃ¼llerini kodlamaya baÅŸla*
